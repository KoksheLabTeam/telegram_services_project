3. Сам себе нельзя оставлять отзывы
Проверка на это должна быть в коде, например:


if review.author_id == review.target_id:
    raise ValueError("Нельзя оставить отзыв самому себе")

Это можно встроить в бизнес-логику перед сохранением в БД.
in service!!!!!

Заказчик может удалить только свой заказ → проверка в API:
if order.customer_id != current_user.id:
    raise ValueError("Вы не можете удалить чужой заказ")
Админ может удалять любой заказ → если is_admin=True, то пропустить.


